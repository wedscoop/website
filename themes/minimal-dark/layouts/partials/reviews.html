{{ with site.Data.reviews }}
<section class="reviews py-8 bg-[#1F1F1F]">
  <h2 class="text-2xl font-bold mb-6 text-center">What Couples Say</h2>

  <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    {{ $reviews := first 6 (where site.Data.reviews.reviews "comment" "!=" "") }}
    {{ range $index, $review := $reviews }}
      <div 
        class="bg-[#2A2A2A] rounded-2xl shadow p-6 
               {{ if lt $index 3 }}block {{ else }}hidden lg:block{{ end }}"
        x-data="{ expanded: false }"
      >
        <!-- Review Text -->
        <p class="text-gray-300">
          <span x-show="!expanded">
            {{ if gt (len $review.comment) 200 }}
              {{ slicestr $review.comment 0 200 }}… 
              <button class="text-blue-400 hover:underline" @click="expanded = true">Read more</button>
            {{ else }}
              {{ $review.comment }}
            {{ end }}
          </span>

          <span x-show="expanded">
            {{ $review.comment }}
            <button class="text-blue-400 hover:underline" @click="expanded = false">Show less</button>
          </span>
        </p>

        <!-- Rating + Name + Google Icon -->
        <div class="mt-3 flex items-center space-x-2">
          <p class="text-yellow-400 font-semibold">⭐ {{ $review.rating }}</p>
          <p class="text-gray-400">— {{ $review.name }}</p>
          <!-- Google Verified Icon -->
          <img src="/images/google-icon.svg" alt="Verified on Google" class="w-5 h-5" title="Verified on Google">
        </div>
      </div>
    {{ end }}
  </div>

</section>
{{ end }}
